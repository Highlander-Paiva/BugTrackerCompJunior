<!--Comp Júnior/Grupo 2-->
<!--Projeto a ser realizado para o PS 2016.1/Etapa 3-->
<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>BugTracker</title>
        <meta name="description" content="Controlador de erros da CompJr">
        <link rel="stylesheet" href="css/bootstrap.min.css" >
        <link rel="stylesheet" href="css/style.css" >
        <!--Referência para a folha de estilo base a ser usada-->
        <link href="css/mycss.css" rel="stylesheet">
        <!--Referência para o Sweetalert 2-->
        <link href="css/sweetalert2.css" rel="stylesheet">
    </head>
    <body>
        <nav class="navbar navbar-borda nav-tam ">
          <div class="container-fluid">
            <!-- Brand and toggle get grouped for better mobile display -->
            <div class="navbar-header">
              <button type="button" class="navbar-toggle collapsed menu-pad" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
              </button>
                <a class="navbar-brand" href="index.html">
                    <img id="logoComp" alt="Comp Junior" src="imagens/LogoCompbranca.png" >
                </a>
            </div>
        </nav>
        <!-- FIM DA NAVBAR -->
        <!--Section para cadastro de erros.-->
        <section id="sectionCadastro" class="container-fluid">
            <h2 class="intro-text text-center">
                Cadastrar Erro
            </h2>
            <form role="errorform" name="errorform" id="errorform">
                <div class="row">
                	<!--Insere o nome do erro-->
                    <div class="form-group col-lg-12">
                        <label for="nameError" class="control-label">Nome do Erro</label>
                        <input type="text" name="nameError" id="nameError" class="form-control">
                    </div>
                    <!--Selecionar o tipo do erro-->
                    <div class="form-group col-lg-12">
                      <label for="typeError">Tipo de Erro</label>
                      <select class="form-control" name="typeError" id="typeError">
                        <option disabled selected value>  Selecione o tipo do erro  </option>
                        <option>Interface</option>
                        <option>Erro de lógica</option>
                        <option>Erro de compilação</option>
                        <option>Erro de execução</option>
                      </select>
                    </div>
                    <!--Selecionar o tipo de projeto em que o erro está vinculado-->
                    <div class="form-group col-lg-12">
                      <label for="errorProject">Projeto</label>
                      <select class="form-control" name="errorProject" id="errorProject">
                        <option disabled selected value> Selecione o projeto  </option>
                        <option>Comp Android</option>
                        <option>Comp Web</option>
                        <option>Fórum de Química</option>
                        <option>Ponto eletrônico Comp</option>
                      </select>
                    </div>
                    <!--Faz uma breve descrição a cerca do erro-->
                    <div class="clearfix"></div>
                    <div class="form-group col-lg-12">
                        <label for="mensagemErro" class="control-label">Descrição do Erro</label>
                        <textarea class="form-control" rows="6" name="mensagemErro" id="mensagemErro"></textarea>
                    </div>
                    <div class="form-group col-lg-12">
                        <button type="button" class="btn btn-primary" onclick="enviar()" >Cadastrar</button>
                        <button type="button" class="btn btn-primary" onclick="" >Cancelar</button>
                    </div>
                </div>

            </form>
        </section>
    </body>
    <!--Footer-->
	<footer>
	  <p>Copyright &copy; Grupo 2 PS2016.1</p>
	</footer>
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/bootstrapValidator.js"></script>
    <script type="text/javascript" src="js/validarFormError.js"></script>
    <script type="text/javascript" src="js/sweetalert2.min.js"></script>
    
    <script>
        function enviar() {
                   
            var nomeErro = $("#nameError").val(); // nome do erro
            var tipoErro = $("#typeError").val(); // tipo do erro
            var erroProjeto = $("#errorProject").val(); // projeto no qual o erro está vinculado.
            var mensagemErro = $("#mensagemErro").val(); // descricao do erro

            if(nomeErro != "" && tipoErro != "" && erroProjeto != "" && mensagemErro != "") {

                swal({
                            title: 'O erro ' + nomeErro + ' foi cadastrado com sucesso',
                            //text: 'Sucesso',
                            type: 'success',
                            confirmButtonColor: '#3085d6',
                            confirmButtonText: 'OK'
                        },function() {
                             window.location.reload();
                        }); 
            }
            else{
                $("#errorform").submit(); // tenta o submit no form, com isso a validacao de campo é chamada automaticamente
            }
        }
    </script>
</html>
